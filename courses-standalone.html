<!DOCTYPE html>
<html lang="en" data-theme="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Healthcare Courses</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --bg-primary: #ffffff;
            --bg-secondary: #f3f4f6;
            --bg-tertiary: #e5e7eb;
            --text-primary: #111827;
            --text-secondary: #4b5563;
            --text-tertiary: #6b7280;
            --accent-primary: #3b82f6;
            --accent-primary-hover: #2563eb;
            --accent-secondary: #e0e7ff;
            --border-color: #d1d5db;
            --shadow-color: rgba(0, 0, 0, 0.1);
            --card-bg: #ffffff;
            --dropdown-solid: #ffffff;
            --keyword-bg: #e0e7ff;
            --keyword-text: #4338ca;
        }

        [data-theme="dark"] {
            --bg-primary: #111827;
            --bg-secondary: #1f2937;
            --bg-tertiary: #374151;
            --text-primary: #f9fafb;
            --text-secondary: #e5e7eb;
            --text-tertiary: #d1d5db;
            --accent-primary: #3b82f6;
            --accent-primary-hover: #60a5fa;
            --accent-secondary: #1e3a8a;
            --border-color: #374151;
            --shadow-color: rgba(0, 0, 0, 0.3);
            --card-bg: #1f2937;
            --dropdown-solid: #1f2937;
            --keyword-bg: #1e3a8a;
            --keyword-text: #93c5fd;
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
            margin: 0;
            padding: 0;
            background-color: var(--bg-primary);
            color: var(--text-primary);
        }

        .navbar {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 1rem 2rem;
            background-color: var(--bg-secondary);
            border-bottom: 1px solid var(--border-color);
        }

        .logo {
            display: flex;
            align-items: center;
            font-weight: bold;
            font-size: 1.25rem;
            text-decoration: none;
            color: var(--text-primary);
        }

        .logo-icon {
            margin-right: 0.5rem;
            font-size: 1.5rem;
        }

        .nav-links {
            display: flex;
            gap: 2rem;
        }

        .nav-link {
            text-decoration: none;
            color: var(--text-primary);
            transition: color 0.3s;
        }

        .nav-link:hover {
            color: var(--accent-primary);
        }

        .contact-btn {
            padding: 0.5rem 1rem;
            border-radius: 0.5rem;
            text-decoration: none;
            background-color: var(--accent-primary);
            color: white;
            transition: background-color 0.3s;
        }

        .contact-btn:hover {
            background-color: var(--accent-primary-hover);
        }

        header {
            padding: 40px 20px;
            text-align: center;
            margin-bottom: 30px;
            min-height: 30vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            background-color: var(--bg-secondary);
        }

        header h1 {
            font-size: 3.5rem;
            font-weight: bold;
            margin: 0 0 1.5rem 0;
            max-width: 900px;
            color: var(--text-primary);
        }

        .filters {
            padding: 20px;
            margin-bottom: 20px;
            border-radius: 0.75rem;
            background-color: var(--bg-secondary);
            box-shadow: 0 4px 6px var(--shadow-color);
        }

        .filter-controls {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            margin-bottom: 15px;
            align-items: center;
            justify-content: center;
        }

        .filter-group {
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .filter-group label {
            font-weight: 500;
            color: var(--text-primary);
        }

        .filter-group select, .filter-group input, .filter-group .multiselect {
            padding: 8px 12px;
            border-radius: 4px;
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
            min-width: 150px;
            background-color: var(--bg-primary);
            color: var(--text-primary);
            border: 1px solid var(--border-color);
        }
        
        /* Multiselect dropdown styles */
        .multiselect {
            position: relative;
            display: inline-block;
            width: 250px;
        }
        
        .multiselect-dropdown {
            display: none;
            position: absolute;
            top: 100%;
            left: 0;
            right: 0;
            border-radius: 4px;
            z-index: 100;
            max-height: 300px;
            overflow-y: auto;
            margin-top: 5px;
            box-shadow: 0 4px 6px var(--shadow-color);
            background-color: var(--dropdown-solid);
            color: var(--text-primary);
            border: 1px solid var(--border-color);
        }
        
        .multiselect.active .multiselect-dropdown {
            display: block;
        }
        
        .multiselect-option {
            padding: 8px 12px;
            cursor: pointer;
            display: flex;
            align-items: center;
        }
        
        .multiselect-option:hover {
            background-color: var(--bg-tertiary);
        }
        
        .multiselect-selected {
            display: flex;
            flex-wrap: wrap;
            gap: 5px;
            margin-top: 5px;
        }
        
        .selected-item {
            padding: 3px 8px;
            border-radius: 15px;
            font-size: 12px;
            display: flex;
            align-items: center;
            background-color: var(--keyword-bg);
            color: var(--keyword-text);
        }
        
        .selected-item .remove {
            margin-left: 5px;
            cursor: pointer;
            font-weight: bold;
        }

        .button-group {
            display: flex;
            gap: 10px;
            margin-left: 15px;
        }

        button {
            border: none;
            padding: 10px 15px;
            border-radius: 0.5rem;
            cursor: pointer;
            font-weight: 500;
            margin-right: 10px;
            transition: background-color 0.3s, box-shadow 0.3s;
            background-color: var(--accent-primary);
            color: white;
        }

        button:hover {
            background-color: var(--accent-primary-hover);
            box-shadow: 0 2px 4px var(--shadow-color);
        }

        .container {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 20px;
            padding: 20px;
            max-width: 1400px;
            margin: 0 auto;
        }

        .card {
            position: relative;
            perspective: 1000px;
            height: 400px;
            width: 100%;
        }

        .card-inner {
            position: relative;
            width: 100%;
            height: 100%;
            transform-style: preserve-3d;
            transition: transform 0.6s;
        }

        .card:hover .card-inner {
            transform: rotateY(180deg);
        }

        .card-front, .card-back {
            position: absolute;
            width: 100%;
            height: 100%;
            border-radius: 0.75rem;
            box-shadow: 0 4px 6px var(--shadow-color);
            overflow: hidden;
            display: flex;
            flex-direction: column;
            backface-visibility: hidden;
            background-color: var(--card-bg);
            border: 1px solid var(--border-color);
        }

        .card-back {
            transform: rotateY(180deg);
            overflow-y: hidden;
        }

        .card-body {
            padding: 15px;
            flex: 1;
            color: var(--text-primary);
        }

        .card-back .card-body {
            overflow-y: auto;
            padding-top: 70px !important; /* Increased space for the sticky title, applied to all cards */
        }

        .card-title {
            margin-top: 0;
            margin-bottom: 5px;
            cursor: pointer;
            text-decoration: none;
            font-weight: 600;
            color: var(--text-primary);
        }

        .sticky-title {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            padding: 15px;
            z-index: 10;
            font-weight: 600;
            background: linear-gradient(to right, var(--accent-primary), var(--accent-primary-hover));
            color: white;
        }

        .card p {
            font-size: 13px;
            line-height: 1.3;
            margin: 6px 0;
            color: var(--text-secondary);
        }

        .keywords {
            display: flex;
            flex-wrap: wrap;
            gap: 5px;
            margin-top: 15px;
        }

        .keyword {
            padding: 5px 10px;
            border-radius: 15px;
            font-size: 12px;
            font-weight: 500;
            background-color: var(--keyword-bg);
            color: var(--keyword-text);
        }

        .card-link {
            display: block;
            text-decoration: none;
            font-weight: 500;
            padding: 15px;
            text-align: center;
            margin-top: auto;
            position: sticky;
            bottom: 0;
            z-index: 10;
            transition: background-color 0.3s;
            background: linear-gradient(to right, var(--accent-primary), var(--accent-primary-hover));
            color: white;
        }

        .card-link:hover {
            background: linear-gradient(to right, var(--accent-primary-hover), var(--accent-primary));
        }

        .results-count {
            text-align: center;
            margin-bottom: 10px;
            font-weight: 500;
            color: var(--text-secondary);
        }
        
        /* Dropdown Menu Styles */
        .dropdown {
            position: relative;
            display: inline-block;
        }
        
        .dropdown-content {
            display: none;
            position: absolute;
            background-color: var(--dropdown-solid);
            min-width: 160px;
            box-shadow: 0px 8px 16px 0px var(--shadow-color);
            z-index: 1;
            border-radius: 0.5rem;
            overflow: hidden;
        }
        
        .dropdown-content a {
            color: var(--text-primary);
            padding: 12px 16px;
            text-decoration: none;
            display: block;
            transition: background-color 0.3s;
        }
        
        .dropdown-content a:hover {
            background-color: var(--bg-tertiary);
        }
        
        .dropdown:hover .dropdown-content {
            display: block;
        }
        
        .dropdown-toggle::after {
            content: "▼";
            font-size: 0.7em;
            margin-left: 0.5em;
            vertical-align: middle;
            color: var(--text-primary);
        }
        
        /* Theme Toggle */
        .theme-toggle {
            display: flex;
            align-items: center;
            margin-left: 20px;
        }
        
        .theme-toggle-label {
            margin-right: 8px;
            color: var(--text-primary);
        }
        
        .theme-toggle-switch {
            position: relative;
            display: inline-block;
            width: 50px;
            height: 24px;
        }
        
        .theme-toggle-switch input {
            opacity: 0;
            width: 0;
            height: 0;
        }
        
        .theme-toggle-slider {
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: var(--bg-tertiary);
            transition: .4s;
            border-radius: 24px;
        }
        
        .theme-toggle-slider:before {
            position: absolute;
            content: "☀️";
            display: flex;
            align-items: center;
            justify-content: center;
            height: 20px;
            width: 20px;
            left: 2px;
            bottom: 2px;
            background-color: white;
            transition: .4s;
            border-radius: 50%;
            font-size: 12px;
        }
        
        input:checked + .theme-toggle-slider {
            background-color: var(--accent-primary);
        }
        
        input:checked + .theme-toggle-slider:before {
            transform: translateX(26px);
            content: "🌙";
            background-color: var(--bg-primary);
        }
        
        /* Responsive Dropdown */
        @media (max-width: 768px) {
            .dropdown-content {
                position: static;
                box-shadow: none;
                margin-top: 0.5rem;
                width: 100%;
            }
            
            .filter-controls {
                flex-direction: column;
                align-items: stretch;
            }
            
            .filter-group {
                flex-direction: column;
                align-items: flex-start;
            }
            
            .filter-group select, .filter-group input, .filter-group .multiselect {
                width: 100%;
            }
            
            .container {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>

<!-- Navbar -->
<nav class="navbar">
    <a href="#" class="logo">
        <span class="logo-icon">⚕️</span>
        Healthcare AI Consulting
    </a>
    <div class="theme-toggle">
        <span class="theme-toggle-label">Theme:</span>
        <label class="theme-toggle-switch">
            <input type="checkbox" id="theme-toggle-input" checked>
            <span class="theme-toggle-slider"></span>
        </label>
    </div>
</nav>

<header>
    <h1>AI Healthcare Courses</h1>
</header>

<div class="filters">
    <div class="filter-controls">
        <div class="filter-group">
            <label for="costFilter">Cost:</label>
            <select id="costFilter">
                <option value="all">All Costs</option>
                <option value="free">Free</option>
                <option value="under100">Under $100</option>
                <option value="100to1000">$100 - $1,000</option>
                <option value="1000to5000">$1,000 - $5,000</option>
                <option value="over5000">Over $5,000</option>
            </select>
        </div>
        
        <div class="filter-group">
            <label for="locationFilter">Location:</label>
            <select id="locationFilter">
                <option value="all">All Locations</option>
                <option value="online">Online</option>
                <option value="inperson">In-Person</option>
                <option value="hybrid">Hybrid</option>
            </select>
        </div>
        
        <div class="filter-group">
            <label for="timeFilter">Time:</label>
            <select id="timeFilter">
                <option value="all">All Durations</option>
                <option value="short">Short (Under 10 hours)</option>
                <option value="medium">Medium (10 hours - 4 weeks)</option>
                <option value="long">Long (Over 4 weeks)</option>
            </select>
        </div>
        
        <div class="filter-group">
            <label for="creditsFilter">CE Credits:</label>
            <select id="creditsFilter">
                <option value="all">All Courses</option>
                <option value="yes">With CE Credits</option>
                <option value="no">Without CE Credits</option>
            </select>
        </div>
    </div>
    
    <div class="filter-group" style="margin: 0 auto 15px; max-width: 600px;">
        <label for="keywordFilter">Keywords:</label>
        <div class="multiselect" id="keywordFilter" style="width: 100%; cursor: pointer;">
            <div style="padding: 8px; border-radius: 4px;">
                Select Keywords
            </div>
            <div class="multiselect-selected" id="selectedKeywords"></div>
            <div class="multiselect-dropdown" id="keywordDropdown"></div>
        </div>
    </div>
    
    <div class="button-group" style="display: flex; justify-content: center; margin-bottom: 15px;">
        <button id="applyFilters">Apply Filters</button>
        <button id="resetFilters">Reset Filters</button>
    </div>
</div>

<div class="results-count" id="resultsCount"></div>
<div class="container" id="courseContainer"></div>

<script>
// Course data
const courses = [
    {
        title: "ABAIM Introductory Course & Certification",
        sponsor: "American Board of Artificial Intelligence in Medicine",
        audience: "Physicians",
        cost: "$600",
        duration: "2-day virtual course + certification exam",
        ce: "Yes (2-year certification)",
        objectives: "Comprehensive introduction to artificial intelligence in medicine for physicians. The course covers all material on the introductory certification assessment. The certification process consists of 110 questions with a two-hour time limit, requiring a minimum of 70 correct answers. Once complete, the certification is valid for two years. Package includes two attempts to pass the Educational Certification.",
        link: "https://abaim.org/",
        last_verified: "2025-04-14",
        notes: "Course details verified via ABAIM website. No discrepancies found.",
        keywords: ["Certification", "Physician", "Introductory", "Virtual"]
    },
    {
        title: "ABAIM Introductory Course & Certification",
        sponsor: "American Board of Artificial Intelligence in Medicine",
        audience: "Residents, Fellows, RNs, Technicians, etc.",
        cost: "$300",
        duration: "2-day virtual course + certification exam",
        ce: "Yes (2-year certification)",
        objectives: "Comprehensive introduction to artificial intelligence in medicine for healthcare trainees and staff. The course covers all material on the introductory certification assessment. The certification process consists of 110 questions with a two-hour time limit, requiring a minimum of 70 correct answers. Once complete, the certification is valid for two years. Package includes two attempts to pass the Educational Certification.",
        link: "https://abaim.org/",
        keywords: ["Certification", "Trainee", "Staff", "Introductory", "Virtual"]
    },
    {
        title: "ABAIM Introductory Course & Certification",
        sponsor: "American Board of Artificial Intelligence in Medicine",
        audience: "High School, College, University, Medical/Professional/Graduate School Students",
        cost: "$120",
        duration: "2-day virtual course + certification exam",
        ce: "Yes (2-year certification)",
        objectives: "Comprehensive introduction to artificial intelligence in medicine for students. The course covers all material on the introductory certification assessment. The certification process consists of 110 questions with a two-hour time limit, requiring a minimum of 70 correct answers. Once complete, the certification is valid for two years. Package includes two attempts to pass the Educational Certification.",
        link: "https://abaim.org/",
        keywords: ["Certification", "Student", "Introductory", "Virtual"]
    },
    {
        title: "ABAIM Advanced Course & Certification",
        sponsor: "American Board of Artificial Intelligence in Medicine",
        audience: "Physicians",
        cost: "$600",
        duration: "2-day virtual course + certification exam",
        ce: "Yes (2-year certification)",
        objectives: "Advanced training in artificial intelligence in medicine for physicians. The course covers all material on the advanced certification assessment. The certification process consists of 110 questions with a two-hour time limit, requiring a minimum of 70 correct answers. Once complete, the certification is valid for two years. Package includes two attempts to pass the Educational Certification.",
        link: "https://abaim.org/",
        keywords: ["Certification", "Physician", "Advanced", "Virtual"]
    },
    {
        title: "ABAIM Advanced Course & Certification",
        sponsor: "American Board of Artificial Intelligence in Medicine",
        audience: "Residents, Fellows, RNs, Technicians, etc.",
        cost: "$300",
        duration: "2-day virtual course + certification exam",
        ce: "Yes (2-year certification)",
        objectives: "Advanced training in artificial intelligence in medicine for healthcare trainees and staff. The course covers all material on the advanced certification assessment. The certification process consists of 110 questions with a two-hour time limit, requiring a minimum of 70 correct answers. Once complete, the certification is valid for two years. Package includes two attempts to pass the Educational Certification.",
        link: "https://abaim.org/",
        keywords: ["Certification", "Trainee", "Staff", "Advanced", "Virtual"]
    },
    {
        title: "ABAIM Advanced Course & Certification",
        sponsor: "American Board of Artificial Intelligence in Medicine",
        audience: "High School, College, University, Medical/Professional/Graduate School Students",
        cost: "$120",
        duration: "2-day virtual course + certification exam",
        ce: "Yes (2-year certification)",
        objectives: "Advanced training in artificial intelligence in medicine for students. The course covers all material on the advanced certification assessment. The certification process consists of 110 questions with a two-hour time limit, requiring a minimum of 70 correct answers. Once complete, the certification is valid for two years. Package includes two attempts to pass the Educational Certification.",
        link: "https://abaim.org/",
        keywords: ["Certification", "Student", "Advanced", "Virtual"]
    },
    {
        title: "Generative AI for Healthcare",
        sponsor: "Google Cloud Skills Boost",
        audience: "Healthcare professionals",
        cost: "1 Credit",
        duration: "1 hour",
        ce: "No",
        objectives: "Specifically designed for healthcare professionals, this course demystifies generative AI, the latest breakthrough in artificial intelligence, and the large language models (LLMs) that drive it. Discover real-world applications of generative AI in healthcare settings and master the art of crafting effective prompts tailored to your goals. The course covers introduction to generative AI, large language models in healthcare, medical foundation models, multimodal LLMs, and prompt design for specific healthcare examples. Modules include: Introduction to Generative AI for Healthcare, Large Language Models in Healthcare, and hands-on labs.",
        link: "https://www.cloudskillsboost.google/course_templates/1081",
        last_verified: "2025-04-14",
        notes: "Course validated via Google Cloud Skills Boost. Content and objectives reflect current offerings.",
        keywords: ["Generative AI", "Google", "Healthcare Professional", "LLM", "Prompting", "Online", "Short Course"]
    },
    {
        title: "Anthropic API and Prompt Engineering Courses",
        sponsor: "Anthropic",
        audience: "Developers and AI practitioners",
        cost: "Free",
        duration: "Self-paced",
        ce: "No",
        objectives: "A comprehensive set of educational courses covering: 1) Anthropic API fundamentals - essentials of working with the Claude SDK, getting an API key, working with model parameters, writing multimodal prompts, streaming responses, etc. 2) Prompt engineering interactive tutorial - step-by-step guide to key prompting techniques. 3) Real world prompting - incorporating techniques into complex, real world prompts. 4) Prompt evaluations - writing production prompt evaluations to measure prompt quality. 5) Tool use - implementing tool use successfully in workflows with Claude. The courses favor Claude 3 Haiku to keep API costs down for students following along with the materials.",
        link: "https://github.com/anthropics/courses",
        last_verified: "2025-04-14",
        notes: "Verified on GitHub repository (anthropics/courses). All details are up-to-date.",
        keywords: ["Anthropic", "API", "Prompt Engineering", "Developer", "Claude", "Free", "Online"]
    },
    {
        title: "AI Red Teaming Professional Certification (AIRTP+)",
        sponsor: "Learn Prompting",
        audience: "Professionals interested in AI security",
        cost: "Not specified",
        duration: "4-12 Weeks",
        ce: "No",
        objectives: "Take your expertise to the professional level. Master advanced techniques in AI security assessment and lead sophisticated testing scenarios. This certification is designed for professionals who want to specialize in AI security and learn how to identify and mitigate vulnerabilities in AI systems.",
        link: "https://learnprompting.org/certificates",
        last_verified: "2025-04-14",
        notes: "Verified via Learn Prompting website. Data is consistent with published course information.",
        keywords: ["AI Security", "Red Teaming", "Certification", "Professional", "Online"]
    },
    {
        title: "Certified Prompt Engineering Professional",
        sponsor: "Learn Prompting",
        audience: "Professionals interested in prompt engineering",
        cost: "Not specified",
        duration: "4 Weeks",
        ce: "No",
        objectives: "Master the art of prompt engineering and earn a respected expert certification in this rapidly growing field. Learn to create effective, secure, and optimized prompts for AI systems. This certification covers advanced techniques for crafting prompts that generate high-quality outputs from various AI models.",
        link: "https://learnprompting.org/certificates",
        last_verified: "2025-04-14",
        notes: "Course details validated from Learn Prompting website. Current offering details match.",
        keywords: ["Prompt Engineering", "Certification", "Professional", "Online"]
    }
];

// Helper function to extract all unique keywords
function getAllKeywords() {
    const keywordSet = new Set();
    courses.forEach(course => {
        if (course.keywords) {
            course.keywords.forEach(keyword => keywordSet.add(keyword));
        }
    });
    return Array.from(keywordSet).sort();
}

// Function to populate the keyword dropdown
function populateKeywordDropdown() {
    const keywords = getAllKeywords();
    const dropdown = document.getElementById('keywordDropdown');
    
    dropdown.innerHTML = keywords.map(keyword => `
        <div class="multiselect-option">
            <input type="checkbox" id="keyword-${keyword}" value="${keyword}">
            <label for="keyword-${keyword}">${keyword}</label>
        </div>
    `).join('');
    
    // Add event listeners to checkboxes
    dropdown.querySelectorAll('input[type="checkbox"]').forEach(checkbox => {
        checkbox.addEventListener('change', function() {
            updateSelectedKeywords();
        });
    });
}

// Function to update the selected keywords display
function updateSelectedKeywords() {
    const selectedContainer = document.getElementById('selectedKeywords');
    const checkboxes = document.querySelectorAll('#keywordDropdown input[type="checkbox"]:checked');
    
    selectedContainer.innerHTML = Array.from(checkboxes).map(checkbox => `
        <div class="selected-item" data-value="${checkbox.value}">
            ${checkbox.value}
            <span class="remove" data-value="${checkbox.value}">×</span>
        </div>
    `).join('');
    
    // Add event listeners to remove buttons
    selectedContainer.querySelectorAll('.remove').forEach(button => {
        button.addEventListener('click', function() {
            const value = this.getAttribute('data-value');
            document.getElementById(`keyword-${value}`).checked = false;
            updateSelectedKeywords();
            filterCourses();
        });
    });
    
    filterCourses();
}

// Function to get selected keywords
function getSelectedKeywords() {
    return Array.from(document.querySelectorAll('#keywordDropdown input[type="checkbox"]:checked')).map(checkbox => checkbox.value);
}

// Function to filter courses based on selected criteria
function filterCourses() {
    const costFilter = document.getElementById('costFilter').value;
    const locationFilter = document.getElementById('locationFilter').value;
    const timeFilter = document.getElementById('timeFilter').value;
    const creditsFilter = document.getElementById('creditsFilter').value;
    const selectedKeywords = getSelectedKeywords();
    
    const filteredCourses = courses.filter(course => {
        // Filter by cost
        if (costFilter !== 'all') {
            const cost = course.cost.toLowerCase();
            if (costFilter === 'free' && !cost.includes('free')) return false;
            if (costFilter === 'under100' && !(parseInt(cost.replace(/[^0-9]/g, '') || 0) < 100)) return false;
            if (costFilter === '100to1000' && !(parseInt(cost.replace(/[^0-9]/g, '') || 0) >= 100 && parseInt(cost.replace(/[^0-9]/g, '') || 0) <= 1000)) return false;
            if (costFilter === '1000to5000' && !(parseInt(cost.replace(/[^0-9]/g, '') || 0) > 1000 && parseInt(cost.replace(/[^0-9]/g, '') || 0) <= 5000)) return false;
            if (costFilter === 'over5000' && !(parseInt(cost.replace(/[^0-9]/g, '') || 0) > 5000)) return false;
        }
        
        // Filter by location
        if (locationFilter !== 'all') {
            const location = course.duration.toLowerCase();
            if (locationFilter === 'online' && !location.includes('virtual') && !location.includes('online')) return false;
            if (locationFilter === 'inperson' && !location.includes('in-person') && !location.includes('campus')) return false;
            if (locationFilter === 'hybrid' && !location.includes('hybrid')) return false;
        }
        
        // Filter by time commitment
        if (timeFilter !== 'all') {
            const duration = course.duration.toLowerCase();
            if (timeFilter === 'short' && !(duration.includes('hour') || duration.includes('1 day') || duration.includes('2 day'))) return false;
            if (timeFilter === 'medium' && !(duration.includes('week') || duration.includes('3 day') || duration.includes('4 day'))) return false;
            if (timeFilter === 'long' && !(duration.includes('month') || duration.includes('year') || duration.includes('semester'))) return false;
        }
        
        // Filter by CE credits
        if (creditsFilter !== 'all') {
            const hasCECredits = course.ce.toLowerCase().includes('yes');
            if (creditsFilter === 'yes' && !hasCECredits) return false;
            if (creditsFilter === 'no' && hasCECredits) return false;
        }
        
        // Filter by keywords
        if (selectedKeywords.length > 0) {
            // Check if the course has all selected keywords
            return selectedKeywords.every(keyword => 
                course.keywords && course.keywords.some(k => k.toLowerCase() === keyword.toLowerCase())
            );
        }
        
        return true;
    });
    
    // Update results count
    document.getElementById('resultsCount').textContent = `Showing ${filteredCourses.length} of ${courses.length} courses`;
    
    // Update course cards
    const container = document.getElementById('courseContainer');
    container.innerHTML = filteredCourses.map(createCourseCard).join('');
}

// Function to create a course card
function createCourseCard(course) {
    return `
    <div class="card">
        <div class="card-inner">
            <div class="card-front">
                <div class="card-body">
                    <h3 class="card-title">${course.title}</h3>
                    <p><strong>Sponsor:</strong> ${course.sponsor}</p>
                    <p><strong>Audience:</strong> ${course.audience}</p>
                    <p><strong>Cost:</strong> ${course.cost}</p>
                    <p><strong>Duration:</strong> ${course.duration}</p>
                    <p><strong>CE Credits:</strong> ${course.ce}</p>
                    <div class="keywords">
                        ${course.keywords ? course.keywords.map(keyword => `<span class="keyword">${keyword}</span>`).join('') : ''}
                    </div>
                </div>
                <a href="${course.link}" target="_blank" class="card-link">Go to Course</a>
            </div>
            <div class="card-back">
                <div class="sticky-title">${course.title}</div>
                <div class="card-body">
                    <h4>Objectives:</h4>
                    <p>${course.objectives || 'No objectives provided.'}</p>
                </div>
                <a href="${course.link}" target="_blank" class="card-link">Go to Course</a>
            </div>
        </div>
    </div>
    `;
}

// Set up theme toggle
document.getElementById('theme-toggle-input').addEventListener('change', function() {
    document.documentElement.setAttribute('data-theme', this.checked ? 'dark' : 'light');
});

// Set up multiselect dropdown
document.getElementById('keywordFilter').addEventListener('click', function(event) {
    // Don't toggle if clicking on a checkbox or remove button
    if (event.target.tagName === 'INPUT' || event.target.classList.contains('remove')) {
        return;
    }
    
    this.classList.toggle('active');
    
    // Close dropdown when clicking outside
    if (this.classList.contains('active')) {
        document.addEventListener('click', function closeDropdown(e) {
            const keywordFilter = document.getElementById('keywordFilter');
            if (!keywordFilter.contains(e.target)) {
                keywordFilter.classList.remove('active');
                document.removeEventListener('click', closeDropdown);
            }
        });
    }
});

// Set up filter buttons
document.getElementById('applyFilters').addEventListener('click', filterCourses);
document.getElementById('resetFilters').addEventListener('click', function() {
    document.getElementById('costFilter').value = 'all';
    document.getElementById('locationFilter').value = 'all';
    document.getElementById('timeFilter').value = 'all';
    document.getElementById('creditsFilter').value = 'all';
    
    // Clear keyword selections
    document.querySelectorAll('#keywordDropdown input[type="checkbox"]').forEach(checkbox => {
        checkbox.checked = false;
    });
    updateSelectedKeywords();
    
    filterCourses();
});

// Initialize the page
document.addEventListener('DOMContentLoaded', function() {
    console.log('DOM fully loaded');
    populateKeywordDropdown();
    filterCourses();
    
    // Force display of all courses if none are showing
    setTimeout(function() {
        const container = document.getElementById('courseContainer');
        if (container.innerHTML.trim() === '') {
            console.log('No courses displayed, forcing display of all courses');
            container.innerHTML = courses.map(createCourseCard).join('');
            document.getElementById('resultsCount').textContent = `Showing ${courses.length} of ${courses.length} courses`;
        }
    }, 500);
});

// Immediate initialization as a fallback
populateKeywordDropdown();
filterCourses();
